# ITSS Gym Management System

A comprehensive gym management system built with **Node.js/Express.js** backend and **React.js** frontend, featuring role-based access control, workout scheduling, membership management, and progress tracking.
user01@gmail.com
## üèóÔ∏è System Architecture Overview

```mermaid
graph TB
    subgraph "Frontend Layer"
        React[React.js Application]
        Auth[Authentication Context]
        Redux[Redux Store]
        Components[Reusable Components]
    end
    
    subgraph "API Layer"
        Express[Express.js Server]
        Middleware[Authentication Middleware]
        Routes[API Routes]
    end
    
    subgraph "Business Logic Layer"
        Controllers[Controllers]
        Services[Business Services]
        Validation[Data Validation]
    end
    
    subgraph "Data Layer"
        Models[Mongoose Models]
        MongoDB[(MongoDB Database)]
        Seeder[Database Seeder]
    end
    
    React --> Express
    Express --> Middleware
    Middleware --> Routes
    Routes --> Controllers
    Controllers --> Models
    Models --> MongoDB
    Services --> Controllers
    Seeder --> MongoDB
    
    classDef frontend fill:#e1f5fe
    classDef api fill:#f3e5f5
    classDef business fill:#e8f5e8
    classDef data fill:#fff3e0
    
    class React,Auth,Redux,Components frontend
    class Express,Middleware,Routes api
    class Controllers,Services,Validation business
    class Models,MongoDB,Seeder data
```

## üìä Database Schema & Entity Relationships

```mermaid
erDiagram
    User {
        ObjectId _id PK
        string name
        string email UK
        string password
        string phone
        string gender
        number birthYear
        date dob
        string address
        string emergencyContact
        string membershipType
        date startDate
        date expiryDate
        string fitnessGoals
        string healthConditions
        string profileImage
        string role
        string department
        string username UK
        boolean isActive
        date createdAt
        date updatedAt
    }
    
    Package {
        ObjectId _id PK
        string name
        number durationInDays
        number sessionLimit
        number price
        boolean withTrainer
        date createdAt
        date updatedAt
    }
    
    Membership {
        ObjectId _id PK
        ObjectId user FK
        ObjectId coach FK
        ObjectId package FK
        date startDate
        date endDate
        number sessionsRemaining
        boolean isActive
        string paymentStatus
        string status
        date createdAt
        date updatedAt
    }
    
    WorkoutSession {
        ObjectId _id PK
        ObjectId user FK
        ObjectId membership FK
        ObjectId coach FK
        date workoutDate
        string startTime
        string endTime
        string exerciseName
        boolean isConfirmed
        string status
        date checkedInAt
        ObjectId checkedInBy FK
        date checkedOutAt
        ObjectId checkedOutBy FK
        string notes
        ObjectId confirmedBy FK
        date confirmedAt
        date createdAt
        date updatedAt
    }
    
    WorkoutSchedule {
        ObjectId _id PK
        ObjectId user FK
        ObjectId coach FK
        date date
        string startTime
        string endTime
        string exerciseName
        string status
        string notes
        date createdAt
        date updatedAt
    }
    
    Workout {
        ObjectId _id PK
        ObjectId user FK
        ObjectId trainer FK
        date date
        number durationMinutes
        string notes
        date createdAt
        date updatedAt
    }
    
    Progress {
        ObjectId _id PK
        ObjectId user FK
        array weightHeight
        array calories
        array bodyFat
    }
    
    Equipment {
        ObjectId _id PK
        string name
        number quantity
        string condition
        date purchaseDate
        date warrantyExpiry
        string notes
        date createdAt
        date updatedAt
    }
    
    GymRoom {
        ObjectId _id PK
        string name UK
        string location
        number capacity
        string description
        string status
        date createdAt
        date updatedAt
    }
    
    Feedback {
        ObjectId _id PK
        ObjectId user FK
        number rating
        string message
        string target
        ObjectId relatedUser FK
        date createdAt
        date updatedAt
    }
    
    %% Relationships
    User ||--o{ Membership : "has"
    User ||--o{ WorkoutSession : "attends"
    User ||--o{ WorkoutSchedule : "schedules"
    User ||--o{ Workout : "performs"
    User ||--o| Progress : "tracks"
    User ||--o{ Feedback : "provides"
    
    Package ||--o{ Membership : "includes"
    
    Membership ||--o{ WorkoutSession : "enables"
    
    User ||--o{ WorkoutSession : "coaches"
    User ||--o{ WorkoutSchedule : "coaches"
    User ||--o{ Workout : "trains"
    User ||--o{ Membership : "coaches"
    User ||--o{ Feedback : "receives"
```

## üèõÔ∏è Backend Architecture Components

```mermaid
graph TB
    subgraph "Server Layer"
        Server[server.js<br/>Express App Setup]
        Config[Configuration<br/>DB Connection]
    end
    
    subgraph "Route Layer"
        UserRoute[User Routes<br/>/api/user/*]
        PackageRoute[Package Routes<br/>/api/package/*]
        MembershipRoute[Membership Routes<br/>/api/membership/*]
        EquipmentRoute[Equipment Routes<br/>/api/equipment/*]
        FeedbackRoute[Feedback Routes<br/>/api/feedbacks/*]
        GymRoomRoute[Gym Room Routes<br/>/api/gymroom/*]
        WorkoutRoute[Workout Routes<br/>/api/workout/*]
        SessionRoute[Workout Session Routes<br/>/api/workout-sessions/*]
        ScheduleRoute[Schedule Routes<br/>/api/schedule/*]
        ProgressRoute[Progress Routes<br/>/api/progress/*]
        StatisticRoute[Statistics Routes<br/>/api/statistics/*]
    end
    
    subgraph "Middleware Layer"
        AuthMiddleware[Authentication<br/>JWT Verification]
        RoleMiddleware[Role-Based Access<br/>Admin/Staff/Coach/User]
        ValidationMiddleware[Request Validation<br/>Data Sanitization]
    end
    
    subgraph "Controller Layer"
        UserController[User Controller<br/>CRUD Operations]
        PackageController[Package Controller<br/>Package Management]
        MembershipController[Membership Controller<br/>Subscription Logic]
        EquipmentController[Equipment Controller<br/>Inventory Management]
        FeedbackController[Feedback Controller<br/>Review System]
        GymRoomController[Gym Room Controller<br/>Facility Management]
        WorkoutController[Workout Controller<br/>Session Logging]
        SessionController[Session Controller<br/>Check-in/Check-out]
        ScheduleController[Schedule Controller<br/>Appointment Booking]
        ProgressController[Progress Controller<br/>Fitness Tracking]
        StatisticController[Statistics Controller<br/>Analytics & Reports]
    end
    
    subgraph "Model Layer"
        UserModel[User Model<br/>User Schema]
        PackageModel[Package Model<br/>Package Schema]
        MembershipModel[Membership Model<br/>Subscription Schema]
        EquipmentModel[Equipment Model<br/>Equipment Schema]
        FeedbackModel[Feedback Model<br/>Feedback Schema]
        GymRoomModel[Gym Room Model<br/>Room Schema]
        WorkoutModel[Workout Model<br/>Workout Schema]
        SessionModel[Session Model<br/>Session Schema]
        ScheduleModel[Schedule Model<br/>Schedule Schema]
        ProgressModel[Progress Model<br/>Progress Schema]
    end
    
    subgraph "Database Layer"
        MongoDB[(MongoDB<br/>Document Database)]
        Seeder[Database Seeder<br/>Initial Data Setup]
    end
    
    Server --> Config
    Server --> UserRoute
    Server --> PackageRoute
    Server --> MembershipRoute
    Server --> EquipmentRoute
    Server --> FeedbackRoute
    Server --> GymRoomRoute
    Server --> WorkoutRoute
    Server --> SessionRoute
    Server --> ScheduleRoute
    Server --> ProgressRoute
    Server --> StatisticRoute
    
    UserRoute --> AuthMiddleware
    PackageRoute --> AuthMiddleware
    MembershipRoute --> AuthMiddleware
    EquipmentRoute --> AuthMiddleware
    FeedbackRoute --> AuthMiddleware
    GymRoomRoute --> AuthMiddleware
    WorkoutRoute --> AuthMiddleware
    SessionRoute --> AuthMiddleware
    ScheduleRoute --> AuthMiddleware
    ProgressRoute --> AuthMiddleware
    StatisticRoute --> AuthMiddleware
    
    AuthMiddleware --> RoleMiddleware
    RoleMiddleware --> ValidationMiddleware
    
    ValidationMiddleware --> UserController
    ValidationMiddleware --> PackageController
    ValidationMiddleware --> MembershipController
    ValidationMiddleware --> EquipmentController
    ValidationMiddleware --> FeedbackController
    ValidationMiddleware --> GymRoomController
    ValidationMiddleware --> WorkoutController
    ValidationMiddleware --> SessionController
    ValidationMiddleware --> ScheduleController
    ValidationMiddleware --> ProgressController
    ValidationMiddleware --> StatisticController
    
    UserController --> UserModel
    PackageController --> PackageModel
    MembershipController --> MembershipModel
    EquipmentController --> EquipmentModel
    FeedbackController --> FeedbackModel
    GymRoomController --> GymRoomModel
    WorkoutController --> WorkoutModel
    SessionController --> SessionModel
    ScheduleController --> ScheduleModel
    ProgressController --> ProgressModel
    StatisticController --> UserModel
    StatisticController --> MembershipModel
    StatisticController --> WorkoutModel
    
    UserModel --> MongoDB
    PackageModel --> MongoDB
    MembershipModel --> MongoDB
    EquipmentModel --> MongoDB
    FeedbackModel --> MongoDB
    GymRoomModel --> MongoDB
    WorkoutModel --> MongoDB
    SessionModel --> MongoDB
    ScheduleModel --> MongoDB
    ProgressModel --> MongoDB
    
    Config --> MongoDB
    Seeder --> MongoDB
    
    classDef server fill:#ffebee
    classDef route fill:#e8f5e8
    classDef middleware fill:#fff3e0
    classDef controller fill:#e1f5fe
    classDef model fill:#f3e5f5
    classDef database fill:#fce4ec
    
    class Server,Config server
    class UserRoute,PackageRoute,MembershipRoute,EquipmentRoute,FeedbackRoute,GymRoomRoute,WorkoutRoute,SessionRoute,ScheduleRoute,ProgressRoute,StatisticRoute route
    class AuthMiddleware,RoleMiddleware,ValidationMiddleware middleware
    class UserController,PackageController,MembershipController,EquipmentController,FeedbackController,GymRoomController,WorkoutController,SessionController,ScheduleController,ProgressController,StatisticController controller
    class UserModel,PackageModel,MembershipModel,EquipmentModel,FeedbackModel,GymRoomModel,WorkoutModel,SessionModel,ScheduleModel,ProgressModel model
    class MongoDB,Seeder database
```

## üîê Authentication & Authorization Flow

```mermaid
sequenceDiagram
    participant Client
    participant Server
    participant AuthMiddleware
    participant JWT
    participant Database
    participant Controller
    
    Note over Client,Controller: Login Process
    Client->>+Server: POST /api/user/login
    Server->>+Database: Validate credentials
    Database-->>-Server: User data
    Server->>+JWT: Generate token
    JWT-->>-Server: JWT token
    Server-->>-Client: Login response + JWT
    
    Note over Client,Controller: Protected Route Access
    Client->>+Server: GET /api/protected-route
    Note right of Client: Authorization: Bearer JWT
    Server->>+AuthMiddleware: Verify token
    AuthMiddleware->>+JWT: Validate JWT
    JWT-->>-AuthMiddleware: Token payload
    AuthMiddleware->>+Database: Get user details
    Database-->>-AuthMiddleware: User data
    AuthMiddleware-->>-Server: User context
    Server->>+Controller: Execute business logic
    Controller->>+Database: Query data
    Database-->>-Controller: Result
    Controller-->>-Server: Response
    Server-->>-Client: API Response
    
    Note over Client,Controller: Role-Based Access Control
    rect rgb(255, 245, 235)
        Note over AuthMiddleware: Role Verification
        AuthMiddleware->>AuthMiddleware: Check user role
        alt Admin Access
            AuthMiddleware->>Controller: Full access granted
        else Staff Access
            AuthMiddleware->>Controller: Limited admin access
        else Coach Access
            AuthMiddleware->>Controller: Workout management access
        else User Access
            AuthMiddleware->>Controller: Personal data access only
        else Unauthorized
            AuthMiddleware-->>Client: 403 Forbidden
        end
    end
```

## üèÉ‚Äç‚ôÇÔ∏è Workout Session Management Flow

```mermaid
sequenceDiagram
    participant Member
    participant Coach
    participant System
    participant Database
    
    Note over Member,Database: Workout Session Booking
    Member->>+System: Request available slots
    System->>+Database: Query coach availability
    Database-->>-System: Available time slots
    System-->>-Member: Show available slots
    
    Member->>+System: Book workout session
    System->>+Database: Create WorkoutSchedule
    Database-->>-System: Schedule created
    System->>Coach: Notify new booking
    System-->>-Member: Booking confirmation
    
    Note over Member,Database: Check-in Process
    rect rgb(235, 255, 235)
        Member->>+System: Check-in for session
        System->>+Database: Update session status to 'checked_in'
        System->>+Database: Record check-in time and user
        Database-->>-System: Session updated
        System->>Coach: Notify member checked in
        System-->>-Member: Check-in successful
    end
    
    Note over Member,Database: Workout Session
    Coach->>+System: Start workout session
    System->>+Database: Update session details
    Database-->>-System: Session active
    
    Coach->>+System: Add workout notes/exercises
    System->>+Database: Update session notes
    Database-->>-System: Notes saved
    
    Note over Member,Database: Check-out Process
    rect rgb(255, 235, 235)
        Coach->>+System: Check-out member
        System->>+Database: Update session status to 'completed'
        System->>+Database: Record check-out time and coach
        System->>+Database: Decrement membership sessions
        Database-->>-System: Session completed
        System->>Member: Session completed notification
        System-->>-Coach: Check-out successful
    end
    
    Note over Member,Database: Progress Tracking
    System->>+Database: Update user progress
    Database-->>-System: Progress saved
    System->>Member: Session summary & progress
```

## üìä User Role Hierarchy & Permissions

```mermaid
graph TD
    subgraph "Role Hierarchy"
        Admin[üë®‚Äçüíº Admin<br/>Full System Access]
        Staff[üë• Staff<br/>Administrative Support]
        Coach[üèãÔ∏è‚Äç‚ôÇÔ∏è Coach<br/>Training Management]
        User[üë§ User/Member<br/>Personal Access]
    end
    
    subgraph "Admin Permissions"
        AdminPerms[‚Ä¢ User Management<br/>‚Ä¢ System Configuration<br/>‚Ä¢ Financial Reports<br/>‚Ä¢ All CRUD Operations<br/>‚Ä¢ Staff Management<br/>‚Ä¢ Analytics Dashboard]
    end
    
    subgraph "Staff Permissions"
        StaffPerms[‚Ä¢ Member Management<br/>‚Ä¢ Membership CRUD<br/>‚Ä¢ Equipment Management<br/>‚Ä¢ Room Management<br/>‚Ä¢ Basic Reports<br/>‚Ä¢ Feedback Management]
    end
    
    subgraph "Coach Permissions"
        CoachPerms[‚Ä¢ Workout Sessions<br/>‚Ä¢ Member Progress<br/>‚Ä¢ Schedule Management<br/>‚Ä¢ Exercise Planning<br/>‚Ä¢ Session Check-in/out<br/>‚Ä¢ Member Feedback]
    end
    
    subgraph "User Permissions"
        UserPerms[‚Ä¢ Personal Profile<br/>‚Ä¢ Workout Booking<br/>‚Ä¢ Progress Tracking<br/>‚Ä¢ Feedback Submission<br/>‚Ä¢ Session History<br/>‚Ä¢ Payment Status]
    end
    
    Admin --> AdminPerms
    Staff --> StaffPerms
    Coach --> CoachPerms
    User --> UserPerms
    
    Admin -.->|inherits| StaffPerms
    Admin -.->|inherits| CoachPerms
    Staff -.->|limited| CoachPerms
    
    classDef admin fill:#ff6b6b,color:#fff
    classDef staff fill:#4ecdc4,color:#fff
    classDef coach fill:#45b7d1,color:#fff
    classDef user fill:#96ceb4,color:#fff
    classDef perms fill:#f8f9fa,stroke:#dee2e6
    
    class Admin admin
    class Staff staff
    class Coach coach
    class User user
    class AdminPerms,StaffPerms,CoachPerms,UserPerms perms
```

## üîÑ Screen Flow Diagram

```mermaid
flowchart TD
    Start([·ª®ng d·ª•ng kh·ªüi ƒë·ªông]) --> CheckAuth{Ki·ªÉm tra<br/>tr·∫°ng th√°i ƒëƒÉng nh·∫≠p}
    
    CheckAuth -->|Ch∆∞a ƒëƒÉng nh·∫≠p| Login[üîê M√†n h√¨nh ƒëƒÉng nh·∫≠p<br/>LoginPage]
    CheckAuth -->|ƒê√£ ƒëƒÉng nh·∫≠p| RoleCheck{Ki·ªÉm tra vai tr√≤<br/>ng∆∞·ªùi d√πng}
    
    Login -->|ƒêƒÉng nh·∫≠p th√†nh c√¥ng| RoleCheck
    
    %% Admin Flow
    RoleCheck -->|Admin| AdminDash[üë®‚Äçüíº Admin Dashboard<br/>AdminDashboardPage]
    AdminDash --> AdminDevice[üñ•Ô∏è Qu·∫£n l√Ω thi·∫øt b·ªã<br/>AdminDevicePage]
    AdminDash --> AdminCustomer[üë• Qu·∫£n l√Ω kh√°ch h√†ng<br/>AdminCustomerPage]
    AdminDash --> AdminStaff[üëî Qu·∫£n l√Ω nh√¢n vi√™n<br/>AdminStaffPage]
    AdminDash --> AdminPackage[üì¶ Qu·∫£n l√Ω g√≥i t·∫≠p<br/>AdminPackagePage]
    AdminDash --> AdminReport[üìä B√°o c√°o th·ªëng k√™<br/>AdminReportPage]
    AdminDash --> AdminFeedback[üí¨ Qu·∫£n l√Ω ph·∫£n h·ªìi<br/>AdminFeedbackPage]
    AdminDash --> AdminGymRoom[üè¢ Qu·∫£n l√Ω ph√≤ng t·∫≠p<br/>AdminGymRoomPage]
    
    %% Staff Flow
    RoleCheck -->|Staff| StaffDash[üë• Staff Dashboard<br/>StaffDashboardPage]
    StaffDash --> StaffCustomer[üë§ Qu·∫£n l√Ω kh√°ch h√†ng<br/>StaffCustomerPage]
    StaffDash --> StaffSubscription[üé´ Qu·∫£n l√Ω th√†nh vi√™n<br/>StaffSubscriptionManagementPage]
    StaffDash --> StaffFeedback[üí≠ Qu·∫£n l√Ω ph·∫£n h·ªìi<br/>StaffFeedbackPage]
    StaffDash --> StaffDevice[‚öôÔ∏è Qu·∫£n l√Ω thi·∫øt b·ªã<br/>StaffDevicePage]
    StaffDash --> StaffGymRoom[üè† Qu·∫£n l√Ω ph√≤ng t·∫≠p<br/>StaffGymRoomPage]
    
    %% Coach Flow
    RoleCheck -->|Coach| CoachDash[üèãÔ∏è‚Äç‚ôÇÔ∏è Coach Dashboard<br/>Dashboard]
    CoachDash --> CoachClients[üë• Qu·∫£n l√Ω h·ªçc vi√™n<br/>Clients]
    CoachDash --> CoachSchedule[üìÖ L·ªãch t·∫≠p<br/>Schedule]
    CoachDash --> CoachPrograms[üìã Ch∆∞∆°ng tr√¨nh t·∫≠p<br/>TrainingPrograms]
    CoachDash --> CoachProgress[üìà Ti·∫øn ƒë·ªô t·∫≠p luy·ªán<br/>TrainingProgress]
    CoachDash --> CoachProfile[üë§ H·ªì s∆° c√° nh√¢n<br/>Profiles]
    
    CoachProgress --> EditProgress[‚úèÔ∏è Ch·ªânh s·ª≠a ti·∫øn ƒë·ªô<br/>EditProgressScreen]
    EditProgress --> CoachProgress
    
    %% User Flow
    RoleCheck -->|User/Member| UserSchedule[üìÖ L·ªãch t·∫≠p c√° nh√¢n<br/>UserSchedule]
    UserSchedule --> UserDash[üìä Trang ch·ªß ng∆∞·ªùi d√πng<br/>UserDashboard]
    UserSchedule --> UserProgress[üìà Ti·∫øn ƒë·ªô c√° nh√¢n<br/>UserProgress]
    UserSchedule --> UserMembership[üé´ Th√¥ng tin th√†nh vi√™n<br/>UserMembership]
    UserSchedule --> UserReview[‚≠ê ƒê√°nh gi√° d·ªãch v·ª•<br/>UserReview]
    UserSchedule --> UserProfile[üë§ H·ªì s∆° c√° nh√¢n<br/>UserProfile]
    
    %% Navigation between pages
    AdminDevice -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminCustomer -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminStaff -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminPackage -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminReport -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminFeedback -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    AdminGymRoom -.->|ƒêi·ªÅu h∆∞·ªõng| AdminDash
    
    StaffCustomer -.->|ƒêi·ªÅu h∆∞·ªõng| StaffDash
    StaffSubscription -.->|ƒêi·ªÅu h∆∞·ªõng| StaffDash
    StaffFeedback -.->|ƒêi·ªÅu h∆∞·ªõng| StaffDash
    StaffDevice -.->|ƒêi·ªÅu h∆∞·ªõng| StaffDash
    StaffGymRoom -.->|ƒêi·ªÅu h∆∞·ªõng| StaffDash
    
    CoachClients -.->|ƒêi·ªÅu h∆∞·ªõng| CoachDash
    CoachSchedule -.->|ƒêi·ªÅu h∆∞·ªõng| CoachDash
    CoachPrograms -.->|ƒêi·ªÅu h∆∞·ªõng| CoachDash
    CoachProgress -.->|ƒêi·ªÅu h∆∞·ªõng| CoachDash
    CoachProfile -.->|ƒêi·ªÅu h∆∞·ªõng| CoachDash
    
    UserDash -.->|ƒêi·ªÅu h∆∞·ªõng| UserSchedule
    UserProgress -.->|ƒêi·ªÅu h∆∞·ªõng| UserSchedule
    UserMembership -.->|ƒêi·ªÅu h∆∞·ªõng| UserSchedule
    UserReview -.->|ƒêi·ªÅu h∆∞·ªõng| UserSchedule
    UserProfile -.->|ƒêi·ªÅu h∆∞·ªõng| UserSchedule
    
    %% Logout flow
    AdminDash -->|ƒêƒÉng xu·∫•t| Login
    StaffDash -->|ƒêƒÉng xu·∫•t| Login
    CoachDash -->|ƒêƒÉng xu·∫•t| Login
    UserSchedule -->|ƒêƒÉng xu·∫•t| Login
    
    %% Style definitions
    classDef loginNode fill:#ffcccc,stroke:#ff6666,color:#333
    classDef adminNode fill:#e1f5fe,stroke:#01579b,color:#333
    classDef staffNode fill:#f3e5f5,stroke:#4a148c,color:#333
    classDef coachNode fill:#e8f5e8,stroke:#1b5e20,color:#333
    classDef userNode fill:#fff3e0,stroke:#e65100,color:#333
    classDef decisionNode fill:#fffde7,stroke:#f57f17,color:#333
    classDef startNode fill:#f1f8e9,stroke:#33691e,color:#333
    
    class Login loginNode
    class AdminDash,AdminDevice,AdminCustomer,AdminStaff,AdminPackage,AdminReport,AdminFeedback,AdminGymRoom adminNode
    class StaffDash,StaffCustomer,StaffSubscription,StaffFeedback,StaffDevice,StaffGymRoom staffNode
    class CoachDash,CoachClients,CoachSchedule,CoachPrograms,CoachProgress,CoachProfile,EditProgress coachNode
    class UserSchedule,UserDash,UserProgress,UserMembership,UserReview,UserProfile userNode
    class CheckAuth,RoleCheck decisionNode
    class Start startNode
```

### üì± Lu·ªìng ƒëi·ªÅu h∆∞·ªõng ch√≠nh

1. **Kh·ªüi ƒë·ªông ·ª©ng d·ª•ng**: Ki·ªÉm tra tr·∫°ng th√°i ƒëƒÉng nh·∫≠p
2. **ƒêƒÉng nh·∫≠p**: N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p, chuy·ªÉn ƒë·∫øn m√†n h√¨nh ƒëƒÉng nh·∫≠p
3. **Ph√¢n quy·ªÅn**: Sau khi ƒëƒÉng nh·∫≠p, chuy·ªÉn ƒë·∫øn dashboard t∆∞∆°ng ·ª©ng v·ªõi vai tr√≤:
   - **Admin**: Truy c·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ ch·ª©c nƒÉng qu·∫£n tr·ªã
   - **Staff**: Qu·∫£n l√Ω kh√°ch h√†ng, th√†nh vi√™n, thi·∫øt b·ªã v√† ph√≤ng t·∫≠p
   - **Coach**: Qu·∫£n l√Ω h·ªçc vi√™n, l·ªãch t·∫≠p v√† ti·∫øn ƒë·ªô t·∫≠p luy·ªán
   - **User/Member**: Qu·∫£n l√Ω l·ªãch c√° nh√¢n, ti·∫øn ƒë·ªô v√† th√¥ng tin th√†nh vi√™n

### üîê B·∫£o m·∫≠t & Ph√¢n quy·ªÅn
- M·ªói route ƒë∆∞·ª£c b·∫£o v·ªá b·ªüi `ProtectedRoute` component
- Ki·ªÉm tra vai tr√≤ ng∆∞·ªùi d√πng tr∆∞·ªõc khi cho ph√©p truy c·∫≠p
- Admin c√≥ th·ªÉ truy c·∫≠p t·∫•t c·∫£ c√°c m√†n h√¨nh c·ªßa c√°c vai tr√≤ kh√°c
- Staff c√≥ quy·ªÅn h·∫°n ch·∫ø so v·ªõi Admin
- Coach ch·ªâ qu·∫£n l√Ω c√°c ch·ª©c nƒÉng li√™n quan ƒë·∫øn t·∫≠p luy·ªán
- User/Member ch·ªâ truy c·∫≠p ƒë∆∞·ª£c th√¥ng tin c√° nh√¢n

## üìã API Endpoints Documentation

### üîê Authentication Endpoints
```
POST   /api/user/register          # User registration
POST   /api/user/login             # User login
POST   /api/user/logout            # User logout
POST   /api/user/refresh-token     # Refresh JWT token
```

### üë• User Management Endpoints
```
GET    /api/user                   # Get all users (Admin/Staff)
GET    /api/user/:id               # Get user by ID
PUT    /api/user/:id               # Update user profile
DELETE /api/user/:id               # Delete user (Admin only)
GET    /api/user/profile           # Get current user profile
PUT    /api/user/profile           # Update current user profile
```

### üì¶ Package Management Endpoints
```
GET    /api/package                # Get all packages
GET    /api/package/:id            # Get package by ID
POST   /api/package                # Create package (Admin/Staff)
PUT    /api/package/:id            # Update package (Admin/Staff)
DELETE /api/package/:id            # Delete package (Admin only)
```

### üé´ Membership Management Endpoints
```
GET    /api/membership             # Get all memberships
GET    /api/membership/:id         # Get membership by ID
POST   /api/membership             # Create membership (Staff/Admin)
PUT    /api/membership/:id         # Update membership (Staff/Admin)
DELETE /api/membership/:id         # Delete membership (Admin only)
GET    /api/membership/user/:userId # Get user memberships
```

### üèãÔ∏è‚Äç‚ôÇÔ∏è Workout Session Endpoints
```
GET    /api/workout-sessions       # Get all sessions
GET    /api/workout-sessions/:id   # Get session by ID
POST   /api/workout-sessions       # Create session
PUT    /api/workout-sessions/:id   # Update session
DELETE /api/workout-sessions/:id   # Delete session
POST   /api/workout-sessions/:id/checkin   # Check-in to session
POST   /api/workout-sessions/:id/checkout  # Check-out from session
```

### üìÖ Schedule Management Endpoints
```
GET    /api/schedule               # Get all schedules
GET    /api/schedule/:id           # Get schedule by ID
POST   /api/schedule               # Create schedule
PUT    /api/schedule/:id           # Update schedule
DELETE /api/schedule/:id           # Delete schedule
GET    /api/schedule/user/:userId  # Get user schedules
GET    /api/schedule/coach/:coachId # Get coach schedules
```

### üìà Progress Tracking Endpoints
```
GET    /api/progress/:userId       # Get user progress
POST   /api/progress               # Add progress entry
PUT    /api/progress/:id           # Update progress
DELETE /api/progress/:id           # Delete progress entry
```

### üè™ Equipment Management Endpoints
```
GET    /api/equipment              # Get all equipment
GET    /api/equipment/:id          # Get equipment by ID
POST   /api/equipment              # Add equipment (Staff/Admin)
PUT    /api/equipment/:id          # Update equipment (Staff/Admin)
DELETE /api/equipment/:id          # Delete equipment (Admin only)
```

### üè¢ Gym Room Management Endpoints
```
GET    /api/gymroom                # Get all rooms
GET    /api/gymroom/:id            # Get room by ID
POST   /api/gymroom                # Create room (Admin/Staff)
PUT    /api/gymroom/:id            # Update room (Admin/Staff)
DELETE /api/gymroom/:id            # Delete room (Admin only)
```

### üí¨ Feedback Management Endpoints
```
GET    /api/feedbacks              # Get all feedback
GET    /api/feedbacks/:id          # Get feedback by ID
POST   /api/feedbacks              # Submit feedback
PUT    /api/feedbacks/:id          # Update feedback
DELETE /api/feedbacks/:id          # Delete feedback (Admin only)
```

### üìä Statistics & Analytics Endpoints
```
GET    /api/statistics/dashboard   # Get dashboard stats
GET    /api/statistics/users       # Get user statistics
GET    /api/statistics/memberships # Get membership statistics
GET    /api/statistics/workouts    # Get workout statistics
GET    /api/statistics/revenue     # Get revenue statistics (Admin only)
```

## üöÄ Getting Started

### Prerequisites
- Node.js (v14+ recommended)
- MongoDB (v4.4+ recommended)
- npm or yarn package manager

### Backend Setup
```bash
# Navigate to backend directory
cd be

# Install dependencies
npm install

# Set up environment variables
cp .env.example .env
# Edit .env with your MongoDB connection string and JWT secret

# Seed the database (optional)
npm run seed

# Start the development server
npm run dev
```

### Frontend Setup
```bash
# Navigate to frontend directory
cd fe

# Install dependencies
npm install

# Start the development server
npm start
```

### Environment Variables
Create a `.env` file in the `be` directory:
```env
PORT=3000
MONGO_URI=mongodb://localhost:27017/gym-management
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRE=7d
NODE_ENV=development
```

## üõ†Ô∏è Technology Stack

### Backend Technologies
- **Node.js** - Runtime environment
- **Express.js** - Web application framework
- **MongoDB** - NoSQL database
- **Mongoose** - MongoDB object modeling
- **JWT** - JSON Web Token for authentication
- **bcryptjs** - Password hashing
- **cors** - Cross-origin resource sharing
- **dotenv** - Environment variables management

### Frontend Technologies
- **React.js** - Frontend library
- **Redux Toolkit** - State management
- **React Router** - Client-side routing
- **Axios** - HTTP client
- **Tailwind CSS** - Utility-first CSS framework
- **Shadcn/ui** - UI component library

## üìÅ Project Structure

```
ITSS-Gym-Management/
‚îú‚îÄ‚îÄ be/                          # Backend application
‚îÇ   ‚îú‚îÄ‚îÄ controllers/             # Request handlers
‚îÇ   ‚îú‚îÄ‚îÄ models/                  # Database schemas
‚îÇ   ‚îú‚îÄ‚îÄ routes/                  # API route definitions
‚îÇ   ‚îú‚îÄ‚îÄ middleware/              # Custom middleware
‚îÇ   ‚îú‚îÄ‚îÄ config/                  # Configuration files
‚îÇ   ‚îú‚îÄ‚îÄ services/                # Business logic services
‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ server.js                # Express server setup
‚îú‚îÄ‚îÄ fe/                          # Frontend application
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/               # Page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/            # React contexts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redux/               # Redux store and slices
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/            # API service functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/               # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ public/                  # Static assets
‚îî‚îÄ‚îÄ README.md                    # Project documentation
```

## üîß Key Features

- **Role-Based Access Control** - Admin, Staff, Coach, and Member roles
- **Membership Management** - Package subscriptions and renewals
- **Workout Scheduling** - Book sessions with coaches
- **Progress Tracking** - Monitor fitness goals and achievements
- **Equipment Management** - Track gym equipment and maintenance
- **Facility Management** - Manage gym rooms and capacity
- **Feedback System** - Member reviews and ratings
- **Analytics Dashboard** - Business insights and reports
- **Responsive Design** - Mobile-friendly interface

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## üìÑ License

This project is licensed under the MIT License - see the LICENSE file for details.

## üë• Team

- **Backend Development** - Node.js/Express.js API
- **Frontend Development** - React.js Application
- **Database Design** - MongoDB Schema Design
- **System Architecture** - Overall system design and integration

## üìû Support

For support and questions, please contact the development team or create an issue in the repository.

---

*Built with ‚ù§Ô∏è for ITSS Course Project*